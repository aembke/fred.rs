<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="An interface for interacting with the results of a scan operation."><title>Scanner in fred::types - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-fecee23daa4e8a6d.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="fred" data-themes="" data-resource-suffix="" data-rustdoc-version="1.83.0-nightly (bd53aa3bf 2024-09-02)" data-channel="nightly" data-search-js="search-a99f1315e7cc5121.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-921df33f47b8780c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-3b12f09e550e0385.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../fred/index.html">fred</a><span class="version">9.2.0</span></h2></div><h2 class="location"><a href="#">Scanner</a></h2><div class="sidebar-elems"><section><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.Page">Page</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.create_client">create_client</a></li><li><a href="#tymethod.cursor">cursor</a></li><li><a href="#tymethod.has_more">has_more</a></li><li><a href="#tymethod.next">next</a></li><li><a href="#tymethod.results">results</a></li><li><a href="#tymethod.take_results">take_results</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In fred::<wbr>types</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../index.html">fred</a>::<wbr><a href="index.html">types</a>::<wbr><a class="trait" href="#">Scanner</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/fred/types/scan.rs.html#43-81">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait Scanner {
    type <a href="#associatedtype.Page" class="associatedtype">Page</a>;

    // Required methods
    fn <a href="#tymethod.cursor" class="fn">cursor</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/alloc/borrow/enum.Cow.html" title="enum alloc::borrow::Cow">Cow</a>&lt;'_, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.has_more" class="fn">has_more</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.results" class="fn">results</a>(&amp;self) -&gt; &amp;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="associatedtype" href="trait.Scanner.html#associatedtype.Page" title="type fred::types::Scanner::Page">Page</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.take_results" class="fn">take_results</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="associatedtype" href="trait.Scanner.html#associatedtype.Page" title="type fred::types::Scanner::Page">Page</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.create_client" class="fn">create_client</a>(&amp;self) -&gt; <a class="struct" href="../clients/struct.RedisClient.html" title="struct fred::clients::RedisClient">RedisClient</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.next" class="fn">next</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="../error/struct.RedisError.html" title="struct fred::error::RedisError">RedisError</a>&gt;;
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>An interface for interacting with the results of a scan operation.</p>
</div></details><h2 id="required-associated-types" class="section-header">Required Associated Types<a href="#required-associated-types" class="anchor">§</a></h2><div class="methods"><details class="toggle" open><summary><section id="associatedtype.Page" class="method"><a class="src rightside" href="../../src/fred/types/scan.rs.html#45">source</a><h4 class="code-header">type <a href="#associatedtype.Page" class="associatedtype">Page</a></h4></section></summary><div class="docblock"><p>The type of results from the scan operation.</p>
</div></details></div><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.cursor" class="method"><a class="src rightside" href="../../src/fred/types/scan.rs.html#48">source</a><h4 class="code-header">fn <a href="#tymethod.cursor" class="fn">cursor</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/alloc/borrow/enum.Cow.html" title="enum alloc::borrow::Cow">Cow</a>&lt;'_, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Read the cursor returned from the last scan operation.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.has_more" class="method"><a class="src rightside" href="../../src/fred/types/scan.rs.html#55">source</a><h4 class="code-header">fn <a href="#tymethod.has_more" class="fn">has_more</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Whether the scan call will continue returning results. If <code>false</code> this will be the last result set
returned on the stream.</p>
<p>Calling <code>next</code> when this returns <code>false</code> will return <code>Ok(())</code>, so this does not need to be checked on each
result.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.results" class="method"><a class="src rightside" href="../../src/fred/types/scan.rs.html#58">source</a><h4 class="code-header">fn <a href="#tymethod.results" class="fn">results</a>(&amp;self) -&gt; &amp;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="associatedtype" href="trait.Scanner.html#associatedtype.Page" title="type fred::types::Scanner::Page">Page</a>&gt;</h4></section></summary><div class="docblock"><p>Return a reference to the last page of results.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.take_results" class="method"><a class="src rightside" href="../../src/fred/types/scan.rs.html#62">source</a><h4 class="code-header">fn <a href="#tymethod.take_results" class="fn">take_results</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="associatedtype" href="trait.Scanner.html#associatedtype.Page" title="type fred::types::Scanner::Page">Page</a>&gt;</h4></section></summary><div class="docblock"><p>Take ownership over the results of the SCAN operation. Calls to <code>results</code> or <code>take_results</code> will return <code>None</code>
afterwards.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.create_client" class="method"><a class="src rightside" href="../../src/fred/types/scan.rs.html#68">source</a><h4 class="code-header">fn <a href="#tymethod.create_client" class="fn">create_client</a>(&amp;self) -&gt; <a class="struct" href="../clients/struct.RedisClient.html" title="struct fred::clients::RedisClient">RedisClient</a></h4></section></summary><div class="docblock"><p>A lightweight function to create a Redis client from the SCAN result.</p>
<p>To continue scanning the caller should call <code>next</code> on this struct. Calling <code>scan</code> again on the client will
initiate a new SCAN call starting with a cursor of 0.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.next" class="method"><a class="src rightside" href="../../src/fred/types/scan.rs.html#80">source</a><h4 class="code-header">fn <a href="#tymethod.next" class="fn">next</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="../error/struct.RedisError.html" title="struct fred::error::RedisError">RedisError</a>&gt;</h4></section></summary><div class="docblock"><p>Move on to the next page of results from the SCAN operation. If no more results are available this may close the
stream.</p>
<p><strong>This must be called to continue scanning the keyspace.</strong> Results are not automatically scanned in the
background since this could cause the  buffer backing the stream to grow too large very quickly. This
interface provides a mechanism for throttling the throughput of the SCAN call. If this struct is dropped
without calling this function the stream will close without an error.</p>
<p>If this function returns an error the scan call cannot continue as the client has been closed, or some other
fatal error has occurred. If this happens the error will appear in the stream from the original SCAN call.</p>
</div></details></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><details class="toggle implementors-toggle"><summary><section id="impl-Scanner-for-HScanResult" class="impl"><a class="src rightside" href="../../src/fred/types/scan.rs.html#138-172">source</a><a href="#impl-Scanner-for-HScanResult" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.Scanner.html" title="trait fred::types::Scanner">Scanner</a> for <a class="struct" href="struct.HScanResult.html" title="struct fred::types::HScanResult">HScanResult</a></h3></section></summary><div class="impl-items"><section id="associatedtype.Page-1" class="associatedtype trait-impl"><a class="src rightside" href="../../src/fred/types/scan.rs.html#139">source</a><a href="#associatedtype.Page-1" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Page" class="associatedtype">Page</a> = <a class="struct" href="struct.RedisMap.html" title="struct fred::types::RedisMap">RedisMap</a></h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Scanner-for-SScanResult" class="impl"><a class="src rightside" href="../../src/fred/types/scan.rs.html#182-216">source</a><a href="#impl-Scanner-for-SScanResult" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.Scanner.html" title="trait fred::types::Scanner">Scanner</a> for <a class="struct" href="struct.SScanResult.html" title="struct fred::types::SScanResult">SScanResult</a></h3></section></summary><div class="impl-items"><section id="associatedtype.Page-2" class="associatedtype trait-impl"><a class="src rightside" href="../../src/fred/types/scan.rs.html#183">source</a><a href="#associatedtype.Page-2" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Page" class="associatedtype">Page</a> = <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="enum.RedisValue.html" title="enum fred::types::RedisValue">RedisValue</a>&gt;</h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Scanner-for-ScanResult" class="impl"><a class="src rightside" href="../../src/fred/types/scan.rs.html#91-128">source</a><a href="#impl-Scanner-for-ScanResult" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.Scanner.html" title="trait fred::types::Scanner">Scanner</a> for <a class="struct" href="struct.ScanResult.html" title="struct fred::types::ScanResult">ScanResult</a></h3></section></summary><div class="impl-items"><section id="associatedtype.Page-3" class="associatedtype trait-impl"><a class="src rightside" href="../../src/fred/types/scan.rs.html#92">source</a><a href="#associatedtype.Page-3" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Page" class="associatedtype">Page</a> = <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="struct.RedisKey.html" title="struct fred::types::RedisKey">RedisKey</a>&gt;</h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Scanner-for-ZScanResult" class="impl"><a class="src rightside" href="../../src/fred/types/scan.rs.html#226-260">source</a><a href="#impl-Scanner-for-ZScanResult" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.Scanner.html" title="trait fred::types::Scanner">Scanner</a> for <a class="struct" href="struct.ZScanResult.html" title="struct fred::types::ZScanResult">ZScanResult</a></h3></section></summary><div class="impl-items"><section id="associatedtype.Page-4" class="associatedtype trait-impl"><a class="src rightside" href="../../src/fred/types/scan.rs.html#227">source</a><a href="#associatedtype.Page-4" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Page" class="associatedtype">Page</a> = <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;(<a class="enum" href="enum.RedisValue.html" title="enum fred::types::RedisValue">RedisValue</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.f64.html">f64</a>)&gt;</h4></section></div></details></div><script src="../../trait.impl/fred/types/scan/trait.Scanner.js" async></script></section></div></main></body></html>